<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        .cal-bg{
            background-image: url("https://picsum.photos/id/1064/500?grayscale");
        }
        .cal-table button{
            background-color:rgb(151, 151, 151);
        }
        .cal-table button:hover{
            background-color: pink;

        }
    </style>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <script>
    let first;
    let second;
    let operation;


       class Calculator {
        constructor(num1, num2, operator){
            this.num1 = first;
            this.num2 = second;
            this.operator = operation;
        }
        add(){
            return this.num1 + this.num2
        }
        subtract(){
            return this.num1 - this.num2
        }
        multiply(){
            return this.num1 * this.num2
        }
        divide(){
            return this.num1 / this.num2
        }
        modulus(){
            return this.num1 % this.num2
        }
        exponential(){
            return this.num1 ** this.num2
        }
        result(){
            switch(this.operator){
            case "+":
                return this.add()
                break;
            case "-":
                return this.subtract()
                break;
            case "/":
                return this.divide()
                break;
            case "*":
                return this.multiply()
                break;
            case "%":
                return this.modulus()
                break;
            case "**":
                return this.exponential()
                break;
            default:
                return ("Invalid Operator")
                break;
            }
        }
        reset(param){
            document.getElementById("input").value="";
            document.getElementById('display').innerHTML="";
            first=0;
            second=0;
            operation=null
        }
        clear(param) {
          document.getElementById("input").value = document
            .getElementById("input")
            .value.slice(0, -1);
        }
        inputValue(param) {
          document.getElementById("input").value += param.innerHTML.trim();
        }
       }

       //new instance of the calculator class
       var newCalculator = new Calculator(first, second, operation)

       //delete input
       function deleteValue(param){
        param.innerHTML.trim() == "AC" ? newCalculator.reset(param) : newCalculator.clear(param)
       }

       //Number input function
       function inputValue(param) {
        newCalculator.inputValue(param);
       }

       //Operation input function
       function operator(param){
        if (first && second){
            result()
        }else{

        }
        if(!second){
            second = parseFloat(document.getElementById("input").value)
        }
        if(!first){
            first = parseFloat(document.getElementById("input").value)
        }else{

        }
        if(operation){
            operation = null;
            operation = param.innerHTML.trim()
        }

        operation = param.innerHTML.trim();
        document.getElementById("input").value="";
        document.getElementById("display").innerHTML= first + " " + operation
       }


       //calculate function
       function calculate(a,b,c){
        let result = new Calculator(a,b,c).result();
        document.getElementById("input").value=result;
        document.getElementById("display").innerHTML= first + " " + operation + " "+ second + " = ";
        return result
       }

       //Result computation function
       function result(param){
        if (first == 'NaN'){
            document.getElementById("display").value="";
        }
        if (first && second){
            if(document.getElementById("input").value=="NaN"){
                document.getElementById("input").value="";
            } else {
                second = parseFloat(document.getElementById("input").value);
                first = calculate(first, second, operation);
                second = false;
            }
        }else{
            second = parseFloat(document.getElementById("input").value);
        }
       }

    </script>
  </head>
  <body>
    <div class="container d-flex justify-content-center">
      <div class="px-5 py-4 cal-bg">
        <div class="title text-center"><h3 class="fw-bold border border-2 border-dark py-2">Simple Calculator</h3></div>

        <div class="text-light row"><span id="display" class="text-dark text-end"></span></div>
        <input class=" mb-3 py-3 w-100 disabled text-end border-0" type="text" id="input" />
        <table class="cal-table">

          <tr>
        </tr>
        <tr>
          <td>
            <button
              class="p-4 text-light border-0  w-100"
              type="button"
              onclick="operator(this);"
            >
              %
            </button>
          </td>
          <td>
            <button
              class="p-4 text-light border-0  w-100"
              type="button"
              onclick="operator(this);"
            >
              ^
            </button>
          </td>
          
          
          <td>
            <button
              class="p-4 text-light border-0 bg-danger w-100"
              type="button"
              onclick="deleteValue(this);"
            >
              AC
            </button>
          </td>
          <td>
            <button
              class="p-4 text-light border-0 bg-warning w-100"
              type="button"
              onclick="deleteValue(this);"
            >
              C
            </button>
          </td>
        </tr>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                0
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                1
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                2
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="operator(this);"
              >
                +
              </button>
            </td>
          </tr>
          <tr>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                3
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                4
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                5
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="operator(this);"
              >
                -
              </button>
            </td>
          </tr>
          <tr>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                6
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                7
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                8
              </button>
            </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="operator(this);"
              >
                *
              </button>
            </td>
          </tr>
          <tr>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="inputValue(this);"
              >
                9
              </button>
            </td>
            <td>
                <button
                  class="p-4 text-light border-0  w-100"
                  type="button"
                  onclick="inputValue(this)"
                >
                  .
                </button>
              </td>
              <td>
                <button
                  class="p-4 text-light border-0  w-100"
                  type="button"
                  onclick="operator(this);"
                >
                  /
                </button>
              </td>
            <td>
              <button
                class="p-4 text-light border-0  w-100"
                type="button"
                onclick="result();"
              >
                =
              </button>
            </td>
        </table>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
